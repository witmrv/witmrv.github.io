import{a8 as M,a9 as k,j as e,r as f,aa as D,ab as R,Z as A,ac as C,ad as h,$ as x,G as t,S as c,ae as p,af as m,ag as u,V as O,a0 as W,a1 as Y,ah as q,ai as _,F as z,B as V,l as b,aj as N,n as $,Y as G,ak as H}from"./index-DhtQs5D_.js";import{E as L,a as T,A as Z}from"./EyeInvisibleOutlined-76ZsvrLW.js";const J=s=>new RegExp(/[0-9]/).test(s),K=s=>new RegExp(/[a-z]/).test(s)&&new RegExp(/[A-Z]/).test(s),Q=s=>new RegExp(/[!#@$%^&*)(+=._-]/).test(s),U=s=>s<2?{label:"Poor",color:"error.main"}:s<3?{label:"Weak",color:"warning.main"}:s<4?{label:"Normal",color:"warning.dark"}:s<5?{label:"Good",color:"success.main"}:s<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"},X=s=>{let o=0;return s.length>5&&(o+=1),s.length>7&&(o+=1),J(s)&&(o+=1),Q(s)&&(o+=1),K(s)&&(o+=1),o};var w={},ee=k;Object.defineProperty(w,"__esModule",{value:!0});var v=w.default=void 0,se=ee(M()),re=e;v=w.default=(0,se.default)((0,re.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.22 0 .41.1.55.25.12.13.2.31.2.5 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-.19.08-.37.2-.5.14-.15.33-.25.55-.25M19 19H5V5h14zM12 6c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3m0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-6 6.47V18h12v-1.53c0-2.5-3.97-3.58-6-3.58s-6 1.07-6 3.58M8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12z"}),"AssignmentIndOutlined");function te(){const[s,o]=f.useState(),[j,y]=f.useState(!1),S=D(),E=()=>{y(!j)},P=r=>{r.preventDefault()},I=r=>{const n=X(r);o(U(n))};f.useEffect(()=>{I("")},[]);const B=async(r,{setSubmitting:n,setErrors:l})=>{try{(await G({path:"/employee/join",method:"POST",body:JSON.stringify(r)})).status===200?x.success("회원가입 성공!",{onClose:()=>S("/login")}):x.error("회원가입 실패!")}catch{x.error("회원가입 요청 중 오류가 발생했습니다.")}finally{n(!1)}};return e.jsx(e.Fragment,{children:e.jsx(R,{initialValues:{id:A(),name:"",userId:"",phone:"",birth:"",password:""},validationSchema:C().shape({name:h().max(255).required("이름은 필수입니다."),userId:h().max(255).required("아이디는 필수입니다."),password:h().max(255).required("비밀번호는 필수입니다."),phone:h().max(255).required("전화번호는 필수입니다."),birth:h().max(255).required("생년월일은 필수입니다.")}),onSubmit:async(r,n)=>{const l=await n.validateForm();Object.keys(l).length>0?(x.error("필수 항목을 모두 입력하세요."),n.setSubmitting(!1)):await B(r,n)},children:({errors:r,handleBlur:n,handleChange:l,handleSubmit:g,isSubmitting:F,touched:i,values:d})=>e.jsx("form",{noValidate:!0,onSubmit:g,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(p,{htmlFor:"name-signup",children:"이름 *"}),e.jsx(m,{id:"name-signup",type:"text",value:d.name,name:"name",onBlur:n,onChange:l,fullWidth:!0,error:!!(i.name&&r.name)})]}),i.name&&r.name&&e.jsx(u,{error:!0,id:"helper-text-firstname-signup",children:r.name})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(p,{htmlFor:"phone-signup",children:"전화번호 *"}),e.jsx(O,{name:"phone",value:d.phone,onChange:a=>{l(a)},error:!!(i.phone&&r.phone),fullWidth:!0,onBlur:n})]}),i.phone&&r.phone&&e.jsx(u,{error:!0,id:"helper-text-firstname-signup",children:r.phone})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(p,{htmlFor:"birth-signup",children:"생년월일 *"}),e.jsx(W,{value:d.birth?Y(d.birth):null,format:"YYYY-MM-DD",onChange:a=>{l({target:{name:"birth",value:a?a.format("YYYY-MM-DD"):null}})},renderInput:a=>e.jsx(m,{name:"birth",...a,id:"birth-signup",fullWidth:!0,onBlur:n,error:!!(i.birth&&r.birth)})})]}),i.birth&&r.birth&&e.jsx(u,{error:!0,id:"helper-text-birth-signup",children:r.birth})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(p,{htmlFor:"userId-signup",children:"아이디 *"}),e.jsx(m,{fullWidth:!0,error:!!(i.userId&&r.userId),id:"userId-signup",type:"text",value:d.userId,name:"userId",onBlur:n,onChange:l,inputProps:{}})]}),i.userId&&r.userId&&e.jsx(u,{error:!0,id:"helper-text-email-signup",children:r.userId})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(c,{spacing:1,children:[e.jsx(p,{htmlFor:"password-signup",children:"비밀번호 *"}),e.jsx(m,{fullWidth:!0,error:!!(i.password&&r.password),id:"password-signup",type:j?"text":"password",value:d.password,name:"password",onBlur:n,onChange:a=>{l(a),I(a.target.value)},endAdornment:e.jsx(q,{position:"end",children:e.jsx(_,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:P,edge:"end",color:"secondary",children:j?e.jsx(L,{}):e.jsx(T,{})})}),placeholder:"******",inputProps:{}})]}),i.password&&r.password&&e.jsx(u,{error:!0,id:"helper-text-password-signup",children:r.password}),e.jsx(z,{fullWidth:!0,sx:{mt:2},children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,children:e.jsx(V,{sx:{bgcolor:s==null?void 0:s.color,width:85,height:8,borderRadius:"7px"}})}),e.jsx(t,{item:!0,children:e.jsx(b,{variant:"subtitle1",fontSize:"0.75rem",children:s==null?void 0:s.label})})]})})]}),r.submit&&e.jsx(t,{item:!0,xs:12,children:e.jsx(u,{error:!0,children:r.submit})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(N,{children:e.jsx($,{disableElevation:!0,disabled:F,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(v,{}),children:"가입하기"})})})]})})})})}function ae(){return e.jsx(Z,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(c,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(b,{variant:"h3",children:"회원가입"}),e.jsx(b,{component:H,to:"/",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"로그인"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(te,{})})]})})}export{ae as default};
