import{a8 as L,a9 as A,j as e,R as m,aa as B,ab as E,ac as F,ad as j,$ as l,G as a,S as d,ae as g,af as w,ag as u,ah as O,ai as _,t as R,v as q,l as h,aj as T,n as z,a7 as M,P as W,ak as $}from"./index-DhtQs5D_.js";import{E as V,a as G,A as H}from"./EyeInvisibleOutlined-76ZsvrLW.js";var x={},N=A;Object.defineProperty(x,"__esModule",{value:!0});var f=x.default=void 0,J=N(L()),K=e;f=x.default=(0,J.default)((0,K.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");function b({isDemo:Q=!1}){const[v,y]=m.useState(!1),[c,I]=m.useState(!1),S=B(),k=()=>{I(!c)},C=s=>{s.preventDefault()},P=async(s,{setSubmitting:r,setErrors:t})=>{try{await M("/employee/login",s).then(n=>{n.status===200?(n.json().then(i=>{console.log(i),sessionStorage.setItem("user",JSON.stringify(i))}),l.success("로그인 성공",{autoClose:1e3,onClose:()=>S("/dashboard")})):l.error("로그인 실패")})}catch{l.error("로그인 요청 중 오류가 발생했습니다.")}finally{r(!1)}};return e.jsx(e.Fragment,{children:e.jsx(E,{initialValues:{userId:"",password:""},validationSchema:F().shape({userId:j().max(255).required("아이디는 필수입니다."),password:j().max(255).required("비밀번호는 필수입니다.")}),onSubmit:async(s,r)=>{const t=await r.validateForm();Object.keys(t).length>0?(l.error("필수 항목을 모두 입력하세요."),r.setSubmitting(!1)):await P(s,r)},children:({errors:s,handleBlur:r,handleChange:t,handleSubmit:n,isSubmitting:i,touched:o,values:p})=>e.jsx("form",{noValidate:!0,onSubmit:n,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(g,{htmlFor:"userId-login",children:"아이디"}),e.jsx(w,{id:"userId-login",type:"text",value:p.userId,name:"userId",onBlur:r,onChange:t,placeholder:"아이디를 입력하세요",fullWidth:!0,error:!!(o.userId&&s.userId)})]}),o.userId&&s.userId&&e.jsx(u,{error:!0,id:"standard-weight-helper-text-email-login",children:s.userId})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(g,{htmlFor:"password-login",children:"비밀번호"}),e.jsx(w,{fullWidth:!0,error:!!(o.password&&s.password),id:"-password-login",type:c?"text":"password",value:p.password,name:"password",onBlur:r,onChange:t,endAdornment:e.jsx(O,{position:"end",children:e.jsx(_,{"aria-label":"toggle password visibility",onClick:k,onMouseDown:C,edge:"end",color:"secondary",children:c?e.jsx(V,{}):e.jsx(G,{})})}),placeholder:"비밀번호를 입력하세요."})]}),o.password&&s.password&&e.jsx(u,{error:!0,id:"standard-weight-helper-text-password-login",children:s.password})]}),e.jsx(a,{item:!0,xs:12,sx:{mt:-1},children:e.jsx(d,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:e.jsx(R,{control:e.jsx(q,{checked:v,onChange:D=>y(D.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(h,{variant:"h6",children:"로그인 유지"})})})}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(u,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(T,{children:e.jsx(z,{disableElevation:!0,disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(f,{}),children:"로그인"})})})]})})})})}b.propTypes={isDemo:W.bool};function Y(){return e.jsx(H,{children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(h,{variant:"h3",children:"호텔앤잡 관리프로그램"}),e.jsx(h,{component:$,to:"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"회원가입"})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(b,{})})]})})}export{Y as default};
